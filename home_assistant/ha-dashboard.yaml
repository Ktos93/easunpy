type: custom:vertical-stack-in-card
cards:
  - type: horizontal-stack
    cards:
      - type: custom:power-flow-card-plus
        entities:
          grid:
            entity:
              consumption: sensor.easun_grid_power
            display_state: one_way
            color_circle: true
          solar:
            entity: sensor.easun_pv_total_power
          battery:
            entity: sensor.easun_battery_power
            state_of_charge: sensor.easun_battery_state_of_charge
            display_state: one_way
            color_circle: true
            invert_state: true
          home:
            entity: sensor.easun_output_power
          watt_threshold: 10000
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.easun_grid_energy_accumulator
                name: Total Grid Energy
                icon: mdi:transmission-tower
                show_state: true
                size: 40%
                styles:
                  card:
                    - height: 150px
                    - width: 150px
              - type: custom:button-card
                entity: sensor.easun_pv_energy_accumulator
                name: Total Solar Energy
                icon: mdi:solar-power
                show_state: true
                size: 40%
                styles:
                  card:
                    - height: 150px
                    - width: 150px
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.easun_battery_charge_energy_accumulator
                name: Total Battery Charge
                icon: mdi:battery-charging
                show_state: true
                size: 40%
                styles:
                  card:
                    - height: 150px
                    - width: 150px
              - type: custom:button-card
                entity: sensor.easun_battery_discharge_energy_accumulator
                name: Total Battery Discharge
                icon: mdi:battery-empty
                show_state: true
                size: 40%
                styles:
                  card:
                    - height: 150px
                    - width: 150px
  - type: custom:apexcharts-card
    header:
      title: Daily Power Data
    apex_config:
      tooltip:
        enabled: false
      chart:
        height: 300px
      stroke:
        width: 2
    series:
      - entity: sensor.easun_grid_power
        name: Grid Power
        type: area
        color: "#488FC2"
        transform: return x / 1000;
      - entity: sensor.easun_pv_total_power
        name: Solar Power
        type: area
        color: "#FF9800"
        transform: return x / 1000;
      - entity: sensor.easun_battery_power
        name: Battery Power
        type: area
        color: "#F06293"
        transform: return x / 1000;
      - entity: sensor.easun_output_power
        name: Load Power
        type: area
        color: "#488FC2"
        transform: return x / 1000;
  - type: entities
    title: Inverter Status
    entities:
      - entity: sensor.easun_battery_voltage
        name: Easun Battery Voltage
      - entity: sensor.easun_battery_current
        name: Easun Battery Current
      - entity: sensor.easun_battery_power
        name: Easun Battery Power
      - entity: sensor.easun_pv1_power
        name: Easun PV1 Power
      - entity: sensor.easun_grid_voltage
        name: Easun Grid Voltage
      - entity: sensor.easun_output_power
        name: Easun Output Power
